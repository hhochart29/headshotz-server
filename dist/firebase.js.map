{"version":3,"sources":["../src/firebase.js"],"names":["firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","app","firebase","initializeApp","getUserRefById","steamId","firestore","collection","doc","saveUser","user","userRef","steamid","userExists","get","exists","update","set","e","console","error"],"mappings":";;;;;;;AAAA;;AACA;;;;AAEA,MAAMA,cAAc,GAAG;AACrBC,EAAAA,MAAM,EAAE,yCADa;AAErBC,EAAAA,UAAU,EAAE,iCAFS;AAGrBC,EAAAA,WAAW,EAAE,wCAHQ;AAIrBC,EAAAA,SAAS,EAAE,iBAJU;AAKrBC,EAAAA,aAAa,EAAE,6BALM;AAMrBC,EAAAA,iBAAiB,EAAE,cANE;AAOrBC,EAAAA,KAAK,EAAE;AAPc,CAAvB,C,CAUA;;AACA,MAAMC,GAAG,GAAGC,aAASC,aAAT,CAAuBV,cAAvB,CAAZ;;AAEA,MAAMW,cAAc,GAAGC,OAAO,IAC5BJ,GAAG,CACAK,SADH,GAEGC,UAFH,CAEc,OAFd,EAGGC,GAHH,CAGOH,OAHP,CADF;;AAMO,eAAeI,QAAf,CAAwB;AAAEC,EAAAA;AAAF,CAAxB,EAAkC;AACvC,MAAI,CAACA,IAAL,EAAW;;AACX,MAAI;AACF,UAAMC,OAAO,GAAG,MAAMP,cAAc,CAACM,IAAI,CAACE,OAAN,CAApC;AACA,UAAMC,UAAU,GAAG,CAAC,MAAMF,OAAO,CAACG,GAAR,EAAP,EAAsBC,MAAzC;;AACA,QAAIF,UAAJ,EAAgB;AACdF,MAAAA,OAAO,CAACK,MAAR,CAAeN,IAAf;AACD,KAFD,MAEO;AACLC,MAAAA,OAAO,CAACM,GAAR,CAAYP,IAAZ;AACD;AACF,GARD,CAQE,OAAOQ,CAAP,EAAU;AACVC,IAAAA,OAAO,CAACC,KAAR,CAAc,qBAAd,EAAqCF,CAArC;AACD;AACF","sourcesContent":["import firebase from 'firebase/app'\r\nimport 'firebase/firestore'\r\n\r\nconst firebaseConfig = {\r\n  apiKey: 'AIzaSyDGK9KbKjgECEkRggZzMPRfgbcCSytWM5c',\r\n  authDomain: 'headshotz-b626f.firebaseapp.com',\r\n  databaseURL: 'https://headshotz-b626f.firebaseio.com',\r\n  projectId: 'headshotz-b626f',\r\n  storageBucket: 'headshotz-b626f.appspot.com',\r\n  messagingSenderId: '347643097067',\r\n  appId: '1:347643097067:web:6ed9c43b2e5c7fc2b833ae'\r\n}\r\n\r\n// Initialize Firebase\r\nconst app = firebase.initializeApp(firebaseConfig)\r\n\r\nconst getUserRefById = steamId =>\r\n  app\r\n    .firestore()\r\n    .collection('users')\r\n    .doc(steamId)\r\n\r\nexport async function saveUser({ user }) {\r\n  if (!user) return\r\n  try {\r\n    const userRef = await getUserRefById(user.steamid)\r\n    const userExists = (await userRef.get()).exists\r\n    if (userExists) {\r\n      userRef.update(user)\r\n    } else {\r\n      userRef.set(user)\r\n    }\r\n  } catch (e) {\r\n    console.error('Error adding user: ', e)\r\n  }\r\n}\r\n"],"file":"firebase.js"}