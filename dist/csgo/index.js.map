{"version":3,"sources":["../../src/csgo/index.js"],"names":["CSGORouter","defaultHeaders","process","envTRACKER_GG_API_KEY","get","req","res","params","steamid","send","error","stats","method","headers","results","json"],"mappings":";;;;;;;AAAA;;AACA;;;;AACA,MAAMA,UAAU,GAAG,sBAAnB;AAEA,MAAMC,cAAc,GAAG;AACrB,iBAAeC,OAAO,CAACC;AADF,CAAvB;AAIAH,UAAU,CAACI,GAAX,CAAe,yBAAf,EAA0C,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AAC5D,MAAI,CAACD,GAAG,CAACE,MAAJ,CAAWC,OAAhB,EAAyB,OAAOF,GAAG,CAACG,IAAJ,CAAS;AAAEC,IAAAA,KAAK,EAAE;AAAT,GAAT,CAAP;AAEzB,QAAMC,KAAK,GAAG,MAAM,wBACjB,gEAA+DN,GAAG,CAACE,MAAJ,CAAWC,OAAQ,EADjE,EAElB;AACEI,IAAAA,MAAM,EAAE,KADV;AAEEC,IAAAA,OAAO,EAAE,EACP,GAAGZ;AADI;AAFX,GAFkB,CAApB;AAUA,QAAMa,OAAO,GAAG,MAAMH,KAAK,CAACI,IAAN,EAAtB;AAEA,SAAOT,GAAG,CAACG,IAAJ,CAAS;AAAEK,IAAAA;AAAF,GAAT,CAAP;AACD,CAhBD;eAkBed,U","sourcesContent":["import { Router } from 'express'\nimport fetch from 'node-fetch'\nconst CSGORouter = Router()\n\nconst defaultHeaders = {\n  'TRN-Api-Key': process.envTRACKER_GG_API_KEY\n}\n\nCSGORouter.get('/stats/:steamid([0-9]+)', async (req, res) => {\n  if (!req.params.steamid) return res.send({ error: 'No steam id found' })\n\n  const stats = await fetch(\n    `https://public-api.tracker.gg/v2/csgo/standard/profile/steam/${req.params.steamid}`,\n    {\n      method: 'GET',\n      headers: {\n        ...defaultHeaders\n      }\n    }\n  )\n\n  const results = await stats.json()\n\n  return res.send({ results })\n})\n\nexport default CSGORouter\n"],"file":"index.js"}